---
description: "Mnemonic memory system for persistent context across sessions"
alwaysApply: true
---

# Mnemonic Memory System

## Overview

Mnemonic is a filesystem-based memory system that persists context across coding sessions. All memories are stored as `.memory.md` files with YAML frontmatter (MIF Level 3 format).

## Memory Storage

Location: `${MNEMONIC_ROOT}/`

Structure:
```
${MNEMONIC_ROOT}/
└── default/
    ├── decisions/user/
    ├── learnings/user/
    ├── patterns/user/
    ├── blockers/user/
    └── context/user/
```

## Required Behavior

### Before Implementing

Always search for relevant memories:

```bash
rg -i "<topic>" ${MNEMONIC_ROOT}/ --glob "*.memory.md"
```

### Capture Triggers

Create memories when:

| Trigger | Namespace | Type |
|---------|-----------|------|
| Decision made ("let's use X") | decisions/ | semantic |
| Lesson learned ("turns out...") | learnings/ | semantic |
| Pattern established | patterns/ | procedural |
| Blocker encountered | blockers/ | episodic |
| Context to remember | context/ | semantic |

### Memory Format

```yaml
---
id: <uuid>
type: semantic|episodic|procedural
namespace: {namespace}/user
created: <ISO8601>
modified: <ISO8601>
title: "Descriptive title"
tags:
  - tag1
  - tag2
temporal:
  valid_from: <ISO8601>
  recorded_at: <ISO8601>
provenance:
  source_type: conversation
  agent: cursor
  confidence: 0.9
---

# Title

Content here...
```

## Memory Types

- **semantic**: Facts, decisions, specifications - things that ARE true
- **episodic**: Events, debug sessions, incidents - things that HAPPENED
- **procedural**: Workflows, patterns, how-tos - things you DO

## Capture Script

```bash
UUID=$(uuidgen | tr '[:upper:]' '[:lower:]')
DATE=$(date -u +"%Y-%m-%dT%H:%M:%SZ")
NAMESPACE="decisions"
TITLE="Your title"
SLUG=$(echo "$TITLE" | tr '[:upper:]' '[:lower:]' | sed 's/[^a-z0-9]/-/g' | head -c 50)

cat > ${MNEMONIC_ROOT}/default/${NAMESPACE}/user/${SLUG}.memory.md << 'EOF'
---
id: ${UUID}
type: semantic
namespace: ${NAMESPACE}/user
created: ${DATE}
title: "${TITLE}"
tags: []
---

# ${TITLE}

Content...
EOF
```

## Do Not

- Skip searching before implementing
- Forget to capture decisions when made
- Create memories without proper frontmatter
- Use incorrect memory types
